(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0dc9":function(e,t,n){},"8b24":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"flex flex-center"},[n("div",{staticClass:"row q-gutter-md gamble-page"},[n("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[n("p",[e._v("Name:")]),n("q-input",{attrs:{filled:"",clearable:"",autofocus:"",label:"Hive Account *",hint:"the hive account paying for this tickets","lazy-rules":"",rules:[function(e){return e&&e.length>0||"PLEASE TYPE A NAME"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"account_box"}})]},proxy:!0}]),model:{value:e.hive_account,callback:function(t){e.hive_account=t},expression:"hive_account"}}),n("p",[e._v("Roll:")]),n("q-input",{attrs:{filled:"",clearable:"",type:"number",label:"Roll Number *",hint:"the dice roll you're betting on, 1 - 6","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"PLEASE TYPE A NUMBER"},function(e){return e>0||"NUMBER MUST BE MORE THAN 0"},function(e){return e<7||"NUMBER MUST BE LESS THAN 7"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"casino"}})]},proxy:!0}]),model:{value:e.dice_roll,callback:function(t){e.dice_roll=t},expression:"dice_roll"}}),n("p",[e._v("Bet:")]),n("q-input",{attrs:{filled:"",clearable:"",suffix:e.currency,label:"Bet *",rules:[function(e){return null!==e&&""!==e||"PLEASE TYPE A NUMBER"},function(e){return e>=.1||"MINIMUM BET IS 0.1"},function(t){return t<=e.max_bet||"MAXIMUM BET FOR THIS CURRENCY IS CURRENTLY "+e.max_bet}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"payments"}})]},proxy:!0}]),model:{value:e.bet_amount,callback:function(t){e.bet_amount=t},expression:"bet_amount"}}),n("br"),n("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"HIVE",value:"HIVE"},{label:"HBD",value:"HBD"},{label:"SIM",value:"SIM"},{label:"ARCHON",value:"ARCHON"},{label:"HUSTLER",value:"HUSTLER"},{label:"BATTLE",value:"BATTLE"}]},model:{value:e.currency,callback:function(t){e.currency=t},expression:"currency"}}),n("br"),n("br"),n("q-btn-toggle",{attrs:{"toggle-color":"info",options:[{label:"STEEM",value:"STEEM"},{label:"UFM",value:"UFM"}]},model:{value:e.currency,callback:function(t){e.currency=t},expression:"currency"}}),n("div",[n("q-btn",{attrs:{label:"Gamble "+e.bet_amount+" "+e.currency,type:"submit",color:"positive"}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"negative",flat:""}}),n("br"),n("span",{staticClass:"text-primary"},[e._v("possible winnings: ~"+e._s((2.7*e.bet_amount).toFixed(3))+" "+e._s(e.currency)+" on 1 dice match || ~"+e._s((7.2*e.bet_amount).toFixed(3))+" "+e._s(e.currency)+" on 2 dice match")])],1)],1),n("iframe",{attrs:{src:"https://titanembeds.com/embed/618206078664179733?defaultchannel=682006094024802435&theme=BetterTitan",height:"600",width:"600",frameborder:"0"}})],1)])},c=[],o=(n("6b54"),n("06db"),n("7514"),n("c5f6"),{name:"PageIndex",data:function(){return{hive_account:"",dice_roll:1,bet_amount:.1,currency:"HIVE",max_bets:{hive:0,hbd:0,sim:0,archon:0,hustler:0,battle:0,steem:0,ufm:0},loading:!1}},mounted:function(){var e=["background: linear-gradient(#110b0c, #c41922)","border: 1px solid #333","color: white","display: block","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.4)","line-height: 40px","text-align: center","font-weight: bold"].join(";");window.hive_keychain?hive_keychain.requestHandshake((function(){console.log("%c Keychain Found! ",e)})):console.error("No 'window.hive_keychain' Found"),this.get_max_bets()},methods:{get_max_bets:function(){this.$q.loading.show({message:'<strong>Updating Max Bet Balances</strong><br/><span class="text-primary"><em>hang on...</em></span>'}),console.log("Getting Balances...");var e=this;hive.api.getAccounts(["doubledice"],(function(t,n){t?console.error(t):(e.max_bets.hive=Number(n[0].balance.substr(0,n[0].balance.indexOf(" H")))/50,e.max_bets.hbd=Number(n[0].sbd_balance.substr(0,n[0].sbd_balance.indexOf(" H")))/50)}));var t=new SSC("https://api.hive-engine.com/rpc"),n=new SSC("https://api.steem-engine.com/rpc");t.find("tokens","balances",{account:"doubledice"},1e3,0,[],(function(t,n){n.forEach((function(t){switch(console.log(t.symbol,t.balance),t.symbol){case"SIM":e.max_bets.sim=Number(t.balance)/50;break;case"ARCHON":e.max_bets.archon=Number(t.balance)/50;break;case"HUSTLER":e.max_bets.hustler=Number(t.balance)/50;break;case"BATTLE":e.max_bets.battle=Number(t.balance)/50;break}}))})).then((function(){n.find("tokens","balances",{account:"doubledice"},1e3,0,[],(function(t,n){n.forEach((function(t){switch(console.log(t.symbol,t.balance),t.symbol){case"UFM":e.max_bets.ufm=Number(t.balance)/50;break}}))})).then((function(){e.$q.loading.hide()}))}))},onSubmit:function(){"HIVE"==this.currency?hive_keychain.requestTransfer(this.hive_account,"doubledice",Number(this.bet_amount).toFixed(3),this.dice_roll.toString(),"HIVE",(function(e){console.log(e)})):hive_keychain.requestSendToken(this.hive_account,"doubledice",Number(this.bet_amount).toFixed(3),this.dice_roll.toString(),this.currency,(function(e){console.log(e)})),this.get_max_bets()},onReset:function(){this.hive_account=null,this.dice_roll=1,this.bet_amount=0,this.get_max_bets()}},computed:{max_bet:function(){var e=0;return"HIVE"==this.currency?e=this.max_bets.hive>5?5:this.max_bets.hive:"HBD"==this.currency?e=this.max_bets.hbd:"SIM"==this.currency?e=this.max_bets.sim:"ARCHON"==this.currency?e=this.max_bets.archon>50?50:this.max_bets.archon:"HUSTLER"==this.currency?e=this.max_bets.hustler:"BATTLE"==this.currency?e=this.max_bets.battle:"STEEM"==this.currency?e=1:"UFM"==this.currency&&(e=this.max_bets.ufm),e}}}),i=o,r=(n("f595"),n("2877")),s=n("9989"),l=n("0378"),u=n("27f9"),b=n("0016"),h=n("6a67"),m=n("9c40"),d=n("eebe"),_=n.n(d),f=Object(r["a"])(i,a,c,!1,null,"0db54b25",null);t["default"]=f.exports;_()(f,"components",{QPage:s["a"],QForm:l["a"],QInput:u["a"],QIcon:b["a"],QBtnToggle:h["a"],QBtn:m["a"]})},f595:function(e,t,n){"use strict";var a=n("0dc9"),c=n.n(a);c.a}}]);